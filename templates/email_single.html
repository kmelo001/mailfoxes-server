<div class="preview-header">
    <h2>{{ email.subject }}</h2>
    <div class="email-sender">From: {{ email.from_address }}</div>
    <div class="email-timestamp">{{ email.received_at.strftime('%a, %b %d, %Y - %I:%M%p') }}</div>
</div>
<div class="preview-content" style="padding: 2rem;">
    {% if email.body_html %}
        <div class="email-content">
            {{ email.body_html|safe }}
        </div>
    {% else %}
        <div class="email-content">
            <pre style="white-space: pre-wrap;">{{ email.body_text }}</pre>
        </div>
    {% endif %}
</div>

<style>
    .preview-content {
        background: white;
        height: calc(100vh - 200px);
        overflow-y: auto;
    }
    
    .email-content {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        line-height: 1.5;
        color: #333;
    }
    
    .email-content img {
        max-width: 100%;
        height: auto;
    }
    
    .email-content table {
        max-width: 100%;
    }
    
    .email-content a {
        color: #0066cc;
        text-decoration: none;
    }
    
    .email-content a:hover {
        text-decoration: underline;
    }
</style>
